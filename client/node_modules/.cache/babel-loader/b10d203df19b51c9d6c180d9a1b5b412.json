{"ast":null,"code":"var _jsxFileName = \"/Users/maria/Desktop/finalproject/client/src/pages/AddAppt/AddAppt.js\";\nimport React, { useState } from 'react';\nimport { Input, FormBtn } from '../../components/Form';\nimport { Col, Row, Container } from '../../components/Grid';\nimport HomeButton from '../../components/HomeButton';\nimport RtnApptBtn from '../../components/RtnApptBtn';\nimport API from '../../utils/API';\nimport { Toast } from 'react-bootstrap';\n\nfunction AddAppt() {\n  const [purpose, setPurpose] = useState('');\n  const [apptdate, setApptDate] = useState('');\n  const [apptstart, setApptStart] = useState('');\n  const [apptend, setApptEnd] = useState('');\n  const [doctor, setDoctor] = useState('');\n  const [notes, setNotes] = useState('');\n  const [showToast, setShowToast] = useState(false);\n  const [toastText, setToastText] = useState('');\n\n  const toggleShowToast = () => setShowToast(!showToast);\n\n  let passed = true;\n\n  function validateDate(date) {\n    var datePattern = /^\\d{2}\\/\\d{2}\\/\\d{4}$/;\n\n    if (datePattern.test(date)) {\n      console.log(date);\n      let monthfield = date.split(\"/\")[0];\n      let dayfield = date.split(\"/\")[1];\n      let yearfield = date.split(\"/\")[2];\n\n      switch (parseInt(monthfield)) {\n        case 1:\n        case 3:\n        case 5:\n        case 7:\n        case 8:\n        case 10:\n        case 12:\n          if (parseInt(dayfield) > 0 && parseInt(dayfield) < 32) {\n            return true;\n          } else {\n            return false;\n          }\n\n        case 4:\n        case 6:\n        case 9:\n        case 11:\n          if (parseInt(dayfield) > 0 && parseInt(dayfield) < 31) {\n            return true;\n          } else {\n            return false;\n          }\n\n        case 2:\n          if (parseInt(yearfield) % 4 === 0) {\n            if (parseInt(dayfield) > 0 && parseInt(dayfield) < 30) {\n              return true;\n            } else {\n              return false;\n            }\n          } else {\n            if (parseInt(dayfield) > 0 && parseInt(dayfield) < 29) {\n              return true;\n            } else {\n              return false;\n            }\n          }\n\n        default:\n          return false;\n      }\n    }\n  }\n\n  function validateTime(time) {\n    var timePattern = /^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;\n    return timePattern.test(time);\n  }\n\n  const onSubmitHandler = e => {\n    // Prevent browser refreshing after form submission\n    e.preventDefault();\n    console.log(e.target); // Call fetch books async function\n\n    saveAppts();\n  };\n\n  const onInputChange = event => {\n    const value = event.target.value;\n    const name = event.target.name;\n\n    if (name === 'purpose') {\n      setPurpose(value);\n    } else if (name === 'apptdate') {\n      setApptDate(value);\n    } else if (name === 'apptstart') {\n      setApptStart(value);\n    } else if (name === 'apptend') {\n      setApptEnd(value);\n    } else if (name === 'doctor') {\n      setDoctor(value);\n    } else if (name === 'notes') {\n      setNotes(value);\n    }\n  };\n\n  function saveAppts() {\n    passed = true;\n\n    if (!purpose) {\n      passed = false;\n      setToastText('Purpose Required');\n      toggleShowToast();\n    } else if (!apptdate) {\n      passed = false;\n      setToastText(`Appointment Date Required`);\n      toggleShowToast();\n    } else if (!apptstart) {\n      passed = false;\n      setToastText('Start Time Required');\n      toggleShowToast();\n    }\n\n    if (!validateDate(apptdate)) {\n      passed = false;\n      setToastText('Date is invalid.  Please correct!!!');\n      toggleShowToast();\n    }\n\n    if (!validateTime(apptstart)) {\n      passed = false;\n      setToastText('Starting time is invalid.  Please correct!!!');\n      toggleShowToast();\n    }\n\n    if (apptend) {\n      if (!validateTime(apptend)) {\n        passed = false;\n        setToastText('End time is invalid.  Please correct!!!');\n        toggleShowToast();\n      }\n    }\n\n    if (passed) {\n      API.saveAppts({\n        purpose: purpose,\n        apptdate: apptdate,\n        apptstart: apptstart,\n        apptend: apptend,\n        doctor: doctor,\n        notes: notes\n      }).then(results => {\n        //console.log(results);\n        setPurpose('');\n        setApptDate('');\n        setApptStart('');\n        setApptEnd('');\n        setDoctor('');\n        setNotes('');\n        passed = true;\n      }) // .then(res => loadBooks())\n      .catch(err => console.log(err));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '20%',\n      clear: 'both',\n      paddingTop: 20,\n      paddingBottom: 20,\n      textAlign: 'center'\n    },\n    id: \"m3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, \"APPOINTMENTS\")), /*#__PURE__*/React.createElement(Toast, {\n    style: {\n      backgroundColor: 'red'\n    },\n    show: showToast,\n    onClose: toggleShowToast,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toast.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"holder.js/20x20?text=%20\",\n    className: \"rounded mr-2\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    className: \"mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 19\n    }\n  }, \"Error\")), /*#__PURE__*/React.createElement(Toast.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, toastText)), /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, \"Purpose\"), /*#__PURE__*/React.createElement(Input, {\n    value: purpose,\n    name: \"purpose\",\n    onChange: onInputChange,\n    type: \"text\",\n    placeholder: \"Purpose for appointment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"apptdate\",\n    placeholder: \"MM/DD/YYYY\",\n    value: apptdate,\n    onChange: onInputChange,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, \"Start Time\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"apptstart\",\n    placeholder: \"HH:MM\",\n    value: apptstart,\n    onChange: onInputChange,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, \"End Time\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"apptend\",\n    placeholder: \"End Time\",\n    value: apptend,\n    onChange: onInputChange,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, \"Doctor Name\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"doctor\",\n    placeholder: \"Doctor Name\",\n    value: doctor,\n    onChange: onInputChange,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, \"Notes\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"notes\",\n    placeholder: \"Add Notes\",\n    value: notes,\n    onChange: onInputChange,\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormBtn, {\n    className: \"btn-appt\",\n    onClick: onSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }, \"Submit Appointment Info\"))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RtnApptBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(HomeButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default AddAppt;","map":{"version":3,"sources":["/Users/maria/Desktop/finalproject/client/src/pages/AddAppt/AddAppt.js"],"names":["React","useState","Input","FormBtn","Col","Row","Container","HomeButton","RtnApptBtn","API","Toast","AddAppt","purpose","setPurpose","apptdate","setApptDate","apptstart","setApptStart","apptend","setApptEnd","doctor","setDoctor","notes","setNotes","showToast","setShowToast","toastText","setToastText","toggleShowToast","passed","validateDate","date","datePattern","test","console","log","monthfield","split","dayfield","yearfield","parseInt","validateTime","time","timePattern","onSubmitHandler","e","preventDefault","target","saveAppts","onInputChange","event","value","name","then","results","catch","err","height","clear","paddingTop","paddingBottom","textAlign","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Input, FormBtn } from '../../components/Form';\nimport { Col, Row, Container } from '../../components/Grid';\nimport HomeButton from '../../components/HomeButton';\nimport RtnApptBtn from '../../components/RtnApptBtn';\nimport API from '../../utils/API';\nimport { Toast } from 'react-bootstrap';\n\nfunction AddAppt() {\n  const [purpose, setPurpose] = useState('');\n  const [apptdate, setApptDate] = useState('');\n  const [apptstart, setApptStart] = useState('');\n  const [apptend, setApptEnd] = useState('');\n  const [doctor, setDoctor] = useState('');\n  const [notes, setNotes] = useState('');\n  const [showToast, setShowToast] = useState(false);\n  const [toastText, setToastText] = useState('');\n  const toggleShowToast = () => setShowToast(!showToast);\n\n\n  let passed = true;\n\n  function validateDate(date)  \n  {\n    var datePattern = /^\\d{2}\\/\\d{2}\\/\\d{4}$/;\n      if (datePattern.test(date)) { \n          console.log(date)\n          let monthfield=date.split(\"/\")[0];\n          let dayfield=date.split(\"/\")[1];\n          let yearfield=date.split(\"/\")[2];\n\n          switch (parseInt(monthfield)) {\n            case 1:\n            case 3:\n            case 5: \n            case 7: \n            case 8:\n            case 10:\n            case 12:\n              if (parseInt(dayfield) > 0 && (parseInt(dayfield) < 32)) {\n                return true;\n              } else {\n                return false;\n              }\n              \n            case 4:\n            case 6:\n            case 9: \n            case 11: \n              if (parseInt(dayfield) > 0 && (parseInt(dayfield) < 31)) {\n                return true;\n              } else {\n                return false;\n              }\n\n            case 2:\n              if (parseInt(yearfield) % 4 === 0) {\n                if (parseInt(dayfield) > 0 && (parseInt(dayfield) < 30)) {\n                  return true;\n                } else {\n                  return false;\n                }\n              } else {\n                if (parseInt(dayfield) > 0 && (parseInt(dayfield) < 29)) {\n                  return true;\n                } else {\n                  return false;\n                }  \n              }\n              default:\n                return false;  \n\n          }\n      }\n  }\n  \n  \n  function validateTime(time)  {\n    var timePattern = /^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;\n      return timePattern.test(time);\n  }\n          \n  const onSubmitHandler = (e) => {\n    // Prevent browser refreshing after form submission\n    e.preventDefault();\n    console.log(e.target);\n    // Call fetch books async function\n    saveAppts();\n  }\n\n  const onInputChange = (event) => {\n    const value = event.target.value;\n    const name = event.target.name;\n\n    if (name === 'purpose') {\n      setPurpose(value);\n    } else if (name === 'apptdate') {\n      setApptDate(value);\n    } else if (name === 'apptstart') {\n      setApptStart(value);\n    } else if (name === 'apptend') {\n      setApptEnd(value);\n    } else if (name === 'doctor') {\n      setDoctor(value);\n    } else if (name === 'notes') {\n      setNotes(value);\n    }\n  }\n\n  function saveAppts() {\n\n    passed = true;\n    \n    if (!purpose) {\n      passed = false;\n      setToastText('Purpose Required');\n      toggleShowToast();\n\n    } else if (!apptdate) {\n      passed = false;\n      setToastText(`Appointment Date Required`);\n      toggleShowToast();\n    } else if (!apptstart) {\n      passed = false;\n      setToastText('Start Time Required');\n      toggleShowToast();\n    }\n    \n    if (!validateDate(apptdate)) {\n      passed = false;\n      setToastText('Date is invalid.  Please correct!!!');\n      toggleShowToast();\n    }\n\n    if (!validateTime(apptstart)) {\n      passed = false;\n      setToastText('Starting time is invalid.  Please correct!!!');\n      toggleShowToast();\n    }\n\n    if (apptend) {\n      if (!validateTime(apptend)) {\n        passed = false;\n        setToastText('End time is invalid.  Please correct!!!');\n        toggleShowToast();\n      }\n    }\n\n    if (passed) {\n      API.saveAppts({\n        purpose: purpose,\n        apptdate: apptdate,\n        apptstart: apptstart,\n        apptend: apptend,\n        doctor: doctor,\n        notes: notes\n      })\n        .then(results => {\n          //console.log(results);\n          setPurpose('');\n          setApptDate('');\n          setApptStart('');\n          setApptEnd('');\n          setDoctor('');\n          setNotes('');\n          passed = true;\n        })\n        // .then(res => loadBooks())\n        .catch(err => console.log(err));\n    }\n  }\n\n  return (\n    <div>\n      <div\n        style={{\n          height: '20%', clear: 'both', paddingTop: 20, paddingBottom: 20, textAlign: 'center',\n        }}\n        id=\"m3\" >\n        <p>APPOINTMENTS</p>\n      </div>\n\n      <Toast style={{ backgroundColor: 'red' }} show={showToast} onClose={toggleShowToast}>\n                <Toast.Header>\n                  <img\n                    src=\"holder.js/20x20?text=%20\"\n                    className=\"rounded mr-2\"\n                    alt=\"\"\n                  />\n                  <strong className=\"mr-auto\">Error</strong>\n                </Toast.Header>\n                <Toast.Body>{toastText}</Toast.Body>\n              </Toast>\n              \n      <Container fluid>\n        <Row>\n          <Col size='md-12'>\n            <form>\n              <label>Purpose</label>\n              <Input\n                value={purpose}\n                name='purpose'\n                onChange={onInputChange}\n                type='text'\n                placeholder='Purpose for appointment'\n              />\n              <label>Date</label>\n              <Input\n                name='apptdate'\n                placeholder='MM/DD/YYYY'\n                value={apptdate}\n                onChange={onInputChange}\n                type='text'\n              />\n              <label>Start Time</label>\n              <Input\n                name='apptstart'\n                placeholder='HH:MM'\n                value={apptstart}\n                onChange={onInputChange}\n                type='text'\n              />\n              <label>End Time</label>\n              <Input\n                name='apptend'\n                placeholder='End Time'\n                value={apptend}\n                onChange={onInputChange}\n                type='text'\n              />\n              <label>Doctor Name</label>\n              <Input\n                name='doctor'\n                placeholder='Doctor Name'\n                value={doctor}\n                onChange={onInputChange}\n                type='text'\n              />\n              <label>Notes</label>\n              <Input\n                name='notes'\n                placeholder='Add Notes'\n                value={notes}\n                onChange={onInputChange}\n                type='text'\n              />\n              <FormBtn className='btn-appt' onClick={onSubmitHandler}>\n                Submit Appointment Info\n              </FormBtn>\n            </form>\n          </Col>\n        </Row>\n      </Container>\n      <Row>\n        <Col size=\"md-12\">\n          <RtnApptBtn />\n          <HomeButton />\n        </Col>\n      </Row>\n    </div>\n    );\n}  \n\nexport default AddAppt;\n"]},"metadata":{},"sourceType":"module"}